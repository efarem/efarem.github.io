<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Project Euler - Problem One</title><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@frank_martin_86" /><meta name="twitter:title" content="Project Euler - Problem One" /><meta name="twitter:description" content="So a while ago I set myself the goal of completing one project Euler solutionevery week. Long story short, didn’t stick to it… although I did complete the firstfew."><meta name="description" content="So a while ago I set myself the goal of completing one project Euler solutionevery week. Long story short, didn’t stick to it… although I did complete the fi..."><meta name="google-site-verification" content="Lis9oaHLvVH5CHITSf4Hk6Gp5ZZo519VRsCqZqTvjhs"><link rel="icon" href="/assets/favicon.png"><link rel="apple-touch-icon" href="/assets/touch-icon.png"><link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css"><link rel="stylesheet" href="/assets/core.css"><link rel="canonical" href="/2016/04/29/project-euler-1"><link rel="alternate" type="application/atom+xml" title="Frank Martin | Software Engineer" href="/feed.xml" /></head><body><aside class="logo"> <a href="/"> <img src="http://www.gravatar.com/avatar/ee2c247f343e1b7f7f4b651dcea162b8.png?s=80" class="gravatar"> </a> <span class="logo-prompt">Back to Home</span></aside><main> <noscript><style> article .footnotes { display: block; }</style></noscript><article><div class="center"><h1>Project Euler - Problem One</h1><time>April 29, 2016</time></div><div class="divider"></div><p>So a while ago I set myself the goal of completing one project Euler solution every week. Long story short, didn’t stick to it… although I did complete the first few.</p><p>Recently I stumbled across a site called Hacker Rank which gave me a bit of incentive to dig further into some algo problems. Basically you get points and badges :D which sounds stupid but it <em>has</em> pushed me to do a bit more.</p><p>Anyway, much to my dismay the original PHP solution I wrote failed some of the unit tests. The reason it failed was for taking too long to execute…! There was my moment of clarity.</p><p style="text-align: center; font-size: 1.2em; font-weight: 500; margin-bottom: 1.5em;">I will not be beaten by problem #1!</p><p>So my first solution I looped from <code class="highlighter-rouge">1 &gt; n-1</code> each time testing if <code class="highlighter-rouge">i</code> was a multiple of 3 or 5 and adding to a total if it was. Fine… this works but <code class="highlighter-rouge">O(n)</code> doesn’t do too well if we’re testing cases up to <code class="highlighter-rouge">10^9</code>.</p><p>So with a small amount of digging I found a simple formula for calculating the sum of multiples <code class="highlighter-rouge">(n/2)*(a+b)</code> where <strong>a</strong> is the number in question <strong>b</strong> is the upper limit (highest number divisible by the number in question) and <strong>n</strong> is <strong>b</strong> divided by <strong>a</strong>.</p><p>So after running the sum of multiples below <strong>1000</strong> for <strong>3</strong>:</p><p><code class="highlighter-rouge">(333/2) * (3+999) = 166.5 * 1002 = 166,833</code></p><p>And <strong>5</strong>:</p><p><code class="highlighter-rouge">(199/2) * (5+995) = 99.5 * 1000 = 99,500</code></p><p>All you need to do is remove the sum of multiples that have been accounted for by 3 <strong><em>and</em></strong> 5. You can do this be subtracting the sum of multiples of 15:</p><p><code class="highlighter-rouge">(66/2) * (15+990) = 33 * 1005 = 33,165</code></p><p>From the sum of the previous two totals:</p><p><code class="highlighter-rouge">166,833 + 99,500 - 33,165 = 233,168</code></p><p>There you have it, with this in place my new solution fires in milliseconds for any case up to and including 10^9.</p><p><strong>But wait!</strong> It still doesn’t bloody pass the Hacker Rank tests, wtf! After a bit of digging I found that the highest integer for PHP (at least for versions &lt; 7) is 2147483647 which the resulting value of the 10^9 test is higher than.</p><p style="text-align: center; font-size: 1.2em; font-weight: 500; margin-bottom: 1.5em;">Conclusion, maybe PHP &lt; 7.0 just sucks for this type of task, I’ll have to continue in a different language.</p><p>Here’s a link to my solution <a href="https://github.com/efarem/project-euler-php/blob/master/001.php">on Github</a>.</p></article><div class="back"> <a href="/">Back</a></div></main></body></html>